<!DOCTYPE html>
<html lang="ko"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org/">
<head>
    <title>support-news</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta http-equiv="Expires" content="-1" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Cache-Control" content="No-Cache" />
    <meta http-equiv="imagetoolbar" content="no" />
    <meta name="viewport" content="width=1024" />
    <meta name="keywords" content="CGV, 시지브이, 영화관, 극장, 영화, 티켓, 박스오피스, 극장, Movie, Theater, Cinema, Cgv, cgv, 예매, 상영작" />
    <meta name="description" content="CGV는 선진화된 관람문화와 최고의 서비스로 고객에게 잊을 수 없는 감동을 선사합니다. CGV홈페이지를 통해 영화 예매뿐만 아니라 그 이상의 서비스와 감동을 전달하고, 다양한 즐거움과 특별한 경험을 제공하고자 합니다." />
    <meta property="og:site_name" content="영화 그 이상의 감동. CGV"/>
    <meta id="ctl00_og_title" property="og:title" content="영화 그 이상의 감동. CGV"></meta>

    <meta id="ctl00_og_image" property="og:image" content="https://img.cgv.co.kr/WebApp/images/common/logo_new_kakao_prevw.png"></meta>
    <link rel="alternate" href="http://m.cgv.co.kr" />
    <link rel="shortcut icon" href="https://img.cgv.co.kr/theater_img/favicon.ico" type="image/x-icon" />
    <title id="ctl00_headerTitle"></title>
    <link rel="shortcut icon" type="image/x-icon" href="https://img.cgv.co.kr/R2014/images/favicon.ico" />
    <link rel="stylesheet" media="all" type="text/css" href="https://img.cgv.co.kr/R2014/css/webfont.css" />
    <link rel="stylesheet" media="all" type="text/css" href="https://img.cgv.co.kr/R2014/css/reset.css" />
    <link rel="stylesheet" media="all" type="text/css" href="https://img.cgv.co.kr/R2014/css/layout.css" />
    <link rel="stylesheet" media="all" type="text/css" href="https://img.cgv.co.kr/R2014/css/module.css?20211209" />
    <link rel="stylesheet" media="all" type="text/css" href="https://img.cgv.co.kr/R2014/css/content.css" />
    <link rel="stylesheet" media="all" type="text/css" href="https://img.cgv.co.kr/R2014/css/common.css" />


    <link rel="stylesheet" media="all" type="text/css" href="https://img.cgv.co.kr/R2014/css/eggupdate.css" />
    <link rel="stylesheet" media="print" type="text/css" href="https://img.cgv.co.kr/R2014/css/print.css" />
    <link rel="stylesheet" type="text/css" href="https://img.cgv.co.kr/R2014/js/jquery.ui/smoothness/jquery-ui-1.10.4.custom.min.css" />

    <script type="text/javascript" src="/common/js/extraTheaters.js"></script>
    <script type="text/javascript" src="https://img.cgv.co.kr/R2014/js/app.config.js"></script>
    <script type="text/javascript" src="https://img.cgv.co.kr/R2014/js/jquery-1.10.2.min.js"></script>
    <script type="text/javascript" src="https://img.cgv.co.kr/R2014/js/jquery.plugin/jquery.tmpl.min.js"></script>
    <script type="text/javascript" src="https://img.cgv.co.kr/R2014/js/jquery.plugin/jquery.validate.js"></script>
    <script type="text/javascript" src="https://img.cgv.co.kr/R2014/js/jquery.plugin/jquery.paging.min.js"></script>
    <script type="text/javascript" src="https://img.cgv.co.kr/R2014/js/jquery.ui/jquery-ui-1.10.4.custom.min.js"></script>
    <script type="text/javascript" src="https://img.cgv.co.kr/R2014/js/jquery.utils.js"></script>
    <script type="text/javascript" src="https://img.cgv.co.kr/R2014/js/app.utils.js"></script>
    <script type="text/javascript" src="https://img.cgv.co.kr/R2014/js/jquery.utils.pageing.js"></script>
    <script type="text/javascript" src="https://img.cgv.co.kr/R2014/js/app.init.js"></script>

    <!--[if lte IE 9]><script type="text/javascript" src="https://img.cgv.co.kr/R2014/js/jquery.plugin/jquery.placeholder.js"></script><![endif]-->
    <script type="text/javascript" src="https://img.cgv.co.kr/R2014/js/jquery.plugin/jquery.dotdotdot.min.js"></script>
    <script type="text/javascript" src="https://img.cgv.co.kr/R2014/js/silverlight_link.js"></script>
    <script src="https://img.cgv.co.kr/R2014/js/slick/slick.js" type="text/javascript" charset="utf-8"></script>

    <link rel="stylesheet" media="all" type="text/css" href="https://img.cgv.co.kr/R2014/css/phototicket/phototicket.css" />
    <link rel="stylesheet" media="all" type="text/css" href="https://img.cgv.co.kr/R2014/css/slick.css" />
    <link rel="stylesheet" media="all" type="text/css" href="https://img.cgv.co.kr/R2014/css/slick-theme-custom.css" />

    <script type="text/javascript" src="https://img.cgv.co.kr/R2014/js/icheck/login.timer.js"></script>
    <script src="https://img.cgv.co.kr/R2014/js/icheck/icheck.min.js" type="text/javascript" charset="utf-8"></script>
    <link rel="stylesheet" type="text/css" href="https://img.cgv.co.kr/R2014/js/icheck/iCheck.css" />
    <script type="text/javascript">
        $(document).ready(function(){
            $("#support-news").addClass("on")
        });
    </script>
    <!-- 2020.05.07 감정지수/프리에그 프로젝트 추가 -->
    <link rel="stylesheet" media="all" type="text/css" href="https://img.cgv.co.kr/R2014/css/preegg.css" />

    <!-- 각페이지 Header Start-->

    <link rel="stylesheet" media="all" type="text/css" href="http://img.cgv.co.kr/R2014/css/customer.css" />

</head>
<body class="">

<div th:replace="user/fragment/header :: header-user"></div>
<!-- E Header -->

<!-- Contaniner -->
<div id="contaniner"  class=""><!-- 벽돌 배경이미지 사용 시 class="bg-bricks" 적용 / 배경이미지가 없을 경우 class 삭제  -->


    <!-- Contents Area -->
    <div id="contents" class="">

        <!-- Contents Start -->
        <div class="cols-content">

            <div th:replace="user/support/fragment/nav :: nav-user"></div>

            <div class="col-detail">
                <div class="customer_top">
                    <h2 class="tit">공지/뉴스</h2>
                    <p class="stit">CGV의 주요한 이슈 및 여러가지 소식들을 확인하실 수 있습니다.</p>
                </div>
<!--                <div class="search_area">-->
<!--                    <legend><%&#45;&#45;@declare id="c_select"&#45;&#45;%><label for="selsearchfield">검색</label></legend>-->
<!--                    <select name="selsearchfield" id="selsearchfield" class="c_select" style="width:100px;">-->
<!--                        <option selected="selected" value="0">제목</option>-->
<!--                        <option value="1">내용</option>-->
<!--                    </select>-->
<!--                    <label for="searchtext" class="hidden">검색어 입력</label>-->
<!--                    <input id="searchtext" type="text" class="c_input" title="검색어 입력" placeholder="검색어를 입력해 주세요" style="width:199px;height: 29px" value="" />-->
<!--                    <button type="button" class="round inblack" title="검색하기" id="btn_search"><span>검색하기</span></button>-->
<!--                </div>-->

<!--                <div class="c_tab_wrap">-->
<!--                    <ul class="c_tab">-->
<!--                        <li class='on'><a href="#" title="선택된 탭메뉴">전체</a></li>-->
<!--                        <li class=''><a href="#">시스템점검</a></li>-->
<!--                        <li class=''><a href="#">극장</a></li>-->
<!--                        <li class=''><a href="#">기타</a></li>-->
<!--                    </ul>-->
<!--                </div>-->

<!--                <div class="search_result">-->
<!--                    총<span class="num">2836건</span>이 검색되었습니다.-->
<!--                </div>-->
                <div class="tbl_area">
                    <table cellspacing="0" cellpadding="0" id="datatableSimple" class="tbl_notice_list">
                        <caption>목록</caption>
                        <colgroup>
                            <col style="width:70px;" />
                            <col style="width:160px;" />
                            <col style="width:auto;" />
                            <col style="width:140px;" />
                            <col style="width:120px" />
                        </colgroup>
                        <thead>
                        <tr>
                            <th scope="col">번호</th>
                            <th scope="col">구분</th>
                            <th scope="col" class="tit">제목</th>
                            <th scope="col">등록일</th>
                            <th scope="col">조회수</th>
                        </tr>
                        </thead>
                        <tbody>

                        <tr th:each="news : ${newsList}" class="first">
                            <td th:text="${news.getIdx()}"></td>
                            <td th:text="|[${news.getCategory()}]|"></td>
                            <td class="txt" ><a th:text="${news.getTitle()}" th:href="@{|/support/news/support-news-detail-view/${news.getIdx()}|}"></a></td>
                            <td th:text="${#temporals.format(news.getRegDate(), 'yyyy.MM.dd')}"></td>
                            <td th:text="${news.getHit()}" class="num"></td>
                        </tr>

                        </tbody>
                    </table>

                </div>
                <?xml version="1.0" encoding="utf-8"?>
                <div class="paging">
                    <button class="btn-paging first" id='first' type="button" style="display: inline-block" th:onclick="|location.href='@{|/support/support-news?page=${0}|}'|">처음</button>
                    <button id='prev' class="btn-paging prev" type="button" style="display: inline-block" onclick="goPrev()">이전</button>
                    <ul id="pageNumber">
<!--                            자바스크립트로 li 넣기-->
                    </ul>
<!--                    <button th:if="${pageNext}" class="btn-paging next" type="button" th:onclick="|location.href='@{|/support/support-news?page=${nowPage+1}|}'|">다음</button>-->
                    <button id="next" class="btn-paging next" type="button" onclick="goNext()">다음</button>
                    <button id='last' class="btn-paging end" type="button" onclick="goLast()">끝</button>
                </div>
            </div>
        </div>
        <!-- //Contents End -->
    </div>
    <!-- //Contents Area -->

    <script th:inline="javascript">
        //<![CDATA[
        let totalPage = [[${totalPage}]]
        let nowPageindex = [[${nowPage}]];
        let size = [[${size}]]

        let bottomsize = 10;

        let firstBottomNumber = nowPageindex - nowPageindex % bottomsize + 1;  //하단 최초 숫자
        let lastBottomNumber = nowPageindex - nowPageindex % bottomsize + bottomsize;  //하단 마지막 숫자

        if(lastBottomNumber > totalPage) lastBottomNumber = totalPage  //총 갯수보다 큰 경우 방지

            for(let i =firstBottomNumber; i<=lastBottomNumber; i++){
                // 페이지 li 를 맞춰서 가져온 함수
                $("#pageNumber").append(
                    ` <li class="addon">
                        <a href="/support/support-news?page=${i - 1}">${i}</a>
                  </li>
                `)
            }

        let addon = document.getElementsByClassName(`addon`);

        // 현재 페이지와 비교해서 동일한거면 class="on"을 넣을 것임
        for(let i = 0; i< totalPage; i++){

            if((nowPageindex%bottomsize) == i){
                console.log(i);
               addon[i].classList.add('on');
            }
        }

        if(firstBottomNumber == 1){
            $("#first").css("display",'none');
            $("#prev").css("display",'none');
        }

        if(totalPage == lastBottomNumber){
            $("#next").css("display",'none');
            $("#last").css("display",'none');
        }

        function goPrev(){
            location.href = '/support/support-news?page=' + (firstBottomNumber - bottomsize + 8);
        }

        function goLast(){
            location.href = '/support/support-news?page=' + (totalPage-1);
        }

        function goNext(){
            location.href = '/support/support-news?page=' + (firstBottomNumber + bottomsize - 1);
        }

        //]]>
    </script>


    <!--/ Contents End -->
</div>
<!-- /Contents Area -->
</div>
<div th:replace="user/fragment/footer :: footer-user"></div>
</div>

</body>
</html>